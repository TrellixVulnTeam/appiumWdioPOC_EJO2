'use strict';

require("source-map-support/register");

const e2eTest = require('./e2e-test');

const unitTest = require('./unit-test');

const configure = function configure(gulp, opts, env) {
  const testEnv = {
    testDeps: opts.transpile ? ['transpile'] : [],
    ...env
  };
  let testTasks = [];

  if (opts.test) {
    unitTest.configure(gulp, opts, testEnv);
    testTasks.push('unit-test');
  }

  if (opts.e2eTest) {
    e2eTest.configure(gulp, opts, testEnv);
    testTasks.push('e2e-test');
  }

  if (testTasks.length) {
    gulp.task('test', gulp.series(testTasks));
  }
};

module.exports = {
  configure
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3Rhc2tzL3Rlc3QuanMiLCJuYW1lcyI6WyJlMmVUZXN0IiwicmVxdWlyZSIsInVuaXRUZXN0IiwiY29uZmlndXJlIiwiZ3VscCIsIm9wdHMiLCJlbnYiLCJ0ZXN0RW52IiwidGVzdERlcHMiLCJ0cmFuc3BpbGUiLCJ0ZXN0VGFza3MiLCJ0ZXN0IiwicHVzaCIsImxlbmd0aCIsInRhc2siLCJzZXJpZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIuLi8uLi8uLiIsInNvdXJjZXMiOlsibGliL3Rhc2tzL3Rlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBlMmVUZXN0ID0gcmVxdWlyZSgnLi9lMmUtdGVzdCcpO1xuY29uc3QgdW5pdFRlc3QgPSByZXF1aXJlKCcuL3VuaXQtdGVzdCcpO1xuXG5jb25zdCBjb25maWd1cmUgPSBmdW5jdGlvbiBjb25maWd1cmUoZ3VscCwgb3B0cywgZW52KSB7XG4gIGNvbnN0IHRlc3RFbnYgPSB7XG4gICAgdGVzdERlcHM6IG9wdHMudHJhbnNwaWxlID8gWyd0cmFuc3BpbGUnXSA6IFtdLFxuICAgIC4uLmVudixcbiAgfTtcblxuICBsZXQgdGVzdFRhc2tzID0gW107XG4gIGlmIChvcHRzLnRlc3QpIHtcbiAgICB1bml0VGVzdC5jb25maWd1cmUoZ3VscCwgb3B0cywgdGVzdEVudik7XG4gICAgdGVzdFRhc2tzLnB1c2goJ3VuaXQtdGVzdCcpO1xuICB9XG5cbiAgaWYgKG9wdHMuZTJlVGVzdCkge1xuICAgIGUyZVRlc3QuY29uZmlndXJlKGd1bHAsIG9wdHMsIHRlc3RFbnYpO1xuICAgIHRlc3RUYXNrcy5wdXNoKCdlMmUtdGVzdCcpO1xuICB9XG5cbiAgaWYgKHRlc3RUYXNrcy5sZW5ndGgpIHtcbiAgICBndWxwLnRhc2soJ3Rlc3QnLCBndWxwLnNlcmllcyh0ZXN0VGFza3MpKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbmZpZ3VyZSxcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBOzs7O0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUF2Qjs7QUFDQSxNQUFNQyxRQUFRLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQXhCOztBQUVBLE1BQU1FLFNBQVMsR0FBRyxTQUFTQSxTQUFULENBQW1CQyxJQUFuQixFQUF5QkMsSUFBekIsRUFBK0JDLEdBQS9CLEVBQW9DO0VBQ3BELE1BQU1DLE9BQU8sR0FBRztJQUNkQyxRQUFRLEVBQUVILElBQUksQ0FBQ0ksU0FBTCxHQUFpQixDQUFDLFdBQUQsQ0FBakIsR0FBaUMsRUFEN0I7SUFFZCxHQUFHSDtFQUZXLENBQWhCO0VBS0EsSUFBSUksU0FBUyxHQUFHLEVBQWhCOztFQUNBLElBQUlMLElBQUksQ0FBQ00sSUFBVCxFQUFlO0lBQ2JULFFBQVEsQ0FBQ0MsU0FBVCxDQUFtQkMsSUFBbkIsRUFBeUJDLElBQXpCLEVBQStCRSxPQUEvQjtJQUNBRyxTQUFTLENBQUNFLElBQVYsQ0FBZSxXQUFmO0VBQ0Q7O0VBRUQsSUFBSVAsSUFBSSxDQUFDTCxPQUFULEVBQWtCO0lBQ2hCQSxPQUFPLENBQUNHLFNBQVIsQ0FBa0JDLElBQWxCLEVBQXdCQyxJQUF4QixFQUE4QkUsT0FBOUI7SUFDQUcsU0FBUyxDQUFDRSxJQUFWLENBQWUsVUFBZjtFQUNEOztFQUVELElBQUlGLFNBQVMsQ0FBQ0csTUFBZCxFQUFzQjtJQUNwQlQsSUFBSSxDQUFDVSxJQUFMLENBQVUsTUFBVixFQUFrQlYsSUFBSSxDQUFDVyxNQUFMLENBQVlMLFNBQVosQ0FBbEI7RUFDRDtBQUNGLENBcEJEOztBQXNCQU0sTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0VBQ2ZkO0FBRGUsQ0FBakIifQ==

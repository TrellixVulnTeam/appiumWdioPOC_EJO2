'use strict';

require("source-map-support/register");

const through = require('through2');

const EE = require('events').EventEmitter;

module.exports = function combine(pipeFn) {
  const inStream = through.obj();
  const outStream = pipeFn(inStream);
  const combinedStream = new EE();
  combinedStream.on('pipe', function onPipe(source) {
    source.unpipe(this);
    source.pipe(inStream);
  });

  combinedStream.pipe = function pipeFn(dest, options) {
    return outStream.pipe(dest, options);
  };

  return combinedStream;
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3N0cmVhbS1jb21iaW5lci5qcyIsIm5hbWVzIjpbInRocm91Z2giLCJyZXF1aXJlIiwiRUUiLCJFdmVudEVtaXR0ZXIiLCJtb2R1bGUiLCJleHBvcnRzIiwiY29tYmluZSIsInBpcGVGbiIsImluU3RyZWFtIiwib2JqIiwib3V0U3RyZWFtIiwiY29tYmluZWRTdHJlYW0iLCJvbiIsIm9uUGlwZSIsInNvdXJjZSIsInVucGlwZSIsInBpcGUiLCJkZXN0Iiwib3B0aW9ucyJdLCJzb3VyY2VSb290IjoiLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9zdHJlYW0tY29tYmluZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB0aHJvdWdoID0gcmVxdWlyZSgndGhyb3VnaDInKTtcbmNvbnN0IEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmUocGlwZUZuKSB7XG4gIGNvbnN0IGluU3RyZWFtID0gdGhyb3VnaC5vYmooKTtcbiAgY29uc3Qgb3V0U3RyZWFtID0gcGlwZUZuKGluU3RyZWFtKTtcbiAgY29uc3QgY29tYmluZWRTdHJlYW0gPSBuZXcgRUUoKTsgLy8gbm90IGEgcmVhbCBzdHJlYW0sIGp1c3QgcHJldGVuZGluZ1xuICBjb21iaW5lZFN0cmVhbS5vbigncGlwZScsIGZ1bmN0aW9uIG9uUGlwZShzb3VyY2UpIHtcbiAgICBzb3VyY2UudW5waXBlKHRoaXMpO1xuICAgIHNvdXJjZS5waXBlKGluU3RyZWFtKTtcbiAgfSk7XG4gIGNvbWJpbmVkU3RyZWFtLnBpcGUgPSBmdW5jdGlvbiBwaXBlRm4oZGVzdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBvdXRTdHJlYW0ucGlwZShkZXN0LCBvcHRpb25zKTtcbiAgfTtcbiAgcmV0dXJuIGNvbWJpbmVkU3RyZWFtO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFFQSxNQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXZCOztBQUNBLE1BQU1DLEVBQUUsR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBUCxDQUFrQkUsWUFBN0I7O0FBRUFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxPQUFULENBQWlCQyxNQUFqQixFQUF5QjtFQUN4QyxNQUFNQyxRQUFRLEdBQUdSLE9BQU8sQ0FBQ1MsR0FBUixFQUFqQjtFQUNBLE1BQU1DLFNBQVMsR0FBR0gsTUFBTSxDQUFDQyxRQUFELENBQXhCO0VBQ0EsTUFBTUcsY0FBYyxHQUFHLElBQUlULEVBQUosRUFBdkI7RUFDQVMsY0FBYyxDQUFDQyxFQUFmLENBQWtCLE1BQWxCLEVBQTBCLFNBQVNDLE1BQVQsQ0FBZ0JDLE1BQWhCLEVBQXdCO0lBQ2hEQSxNQUFNLENBQUNDLE1BQVAsQ0FBYyxJQUFkO0lBQ0FELE1BQU0sQ0FBQ0UsSUFBUCxDQUFZUixRQUFaO0VBQ0QsQ0FIRDs7RUFJQUcsY0FBYyxDQUFDSyxJQUFmLEdBQXNCLFNBQVNULE1BQVQsQ0FBZ0JVLElBQWhCLEVBQXNCQyxPQUF0QixFQUErQjtJQUNuRCxPQUFPUixTQUFTLENBQUNNLElBQVYsQ0FBZUMsSUFBZixFQUFxQkMsT0FBckIsQ0FBUDtFQUNELENBRkQ7O0VBR0EsT0FBT1AsY0FBUDtBQUNELENBWkQifQ==

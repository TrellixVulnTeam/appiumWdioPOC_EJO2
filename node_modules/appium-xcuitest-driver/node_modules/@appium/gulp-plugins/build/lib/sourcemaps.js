'use strict';

require("source-map-support/register");

const path = require('path');

const sourcemaps = require('gulp-sourcemaps');

const replace = require('gulp-replace');

const {
  EOL
} = require('os');

const SOURCEMAP_OPTS = {
  sourceRoot(file) {
    return path.relative(path.join(file.cwd, file.path), file.base);
  },

  includeContent: true
};
const HEADER = `require('source-map-support').install();${EOL + EOL}`;

module.exports = function getSourceMapFns(opts = {}) {
  const sourceMapOpts = Object.assign({}, SOURCEMAP_OPTS, opts);
  return {
    sourceMapInit: sourcemaps.init(),
    sourceMapHeader: replace(/$/, HEADER),
    sourceMapWrite: sourcemaps.write(sourceMapOpts)
  };
};require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliL3NvdXJjZW1hcHMuanMiLCJuYW1lcyI6WyJwYXRoIiwicmVxdWlyZSIsInNvdXJjZW1hcHMiLCJyZXBsYWNlIiwiRU9MIiwiU09VUkNFTUFQX09QVFMiLCJzb3VyY2VSb290IiwiZmlsZSIsInJlbGF0aXZlIiwiam9pbiIsImN3ZCIsImJhc2UiLCJpbmNsdWRlQ29udGVudCIsIkhFQURFUiIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRTb3VyY2VNYXBGbnMiLCJvcHRzIiwic291cmNlTWFwT3B0cyIsIk9iamVjdCIsImFzc2lnbiIsInNvdXJjZU1hcEluaXQiLCJpbml0Iiwic291cmNlTWFwSGVhZGVyIiwic291cmNlTWFwV3JpdGUiLCJ3cml0ZSJdLCJzb3VyY2VSb290IjoiLi4vLi4iLCJzb3VyY2VzIjpbImxpYi9zb3VyY2VtYXBzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbmNvbnN0IHNvdXJjZW1hcHMgPSByZXF1aXJlKCdndWxwLXNvdXJjZW1hcHMnKTtcbmNvbnN0IHJlcGxhY2UgPSByZXF1aXJlKCdndWxwLXJlcGxhY2UnKTtcbmNvbnN0IHtFT0x9ID0gcmVxdWlyZSgnb3MnKTtcblxuY29uc3QgU09VUkNFTUFQX09QVFMgPSB7XG4gIHNvdXJjZVJvb3QoZmlsZSkge1xuICAgIC8vIFBvaW50IHRvIHNvdXJjZSByb290IHJlbGF0aXZlIHRvIHRoZSB0cmFuc3BpbGVkIGZpbGVcbiAgICByZXR1cm4gcGF0aC5yZWxhdGl2ZShwYXRoLmpvaW4oZmlsZS5jd2QsIGZpbGUucGF0aCksIGZpbGUuYmFzZSk7XG4gIH0sXG4gIGluY2x1ZGVDb250ZW50OiB0cnVlLFxufTtcblxuY29uc3QgSEVBREVSID0gYHJlcXVpcmUoJ3NvdXJjZS1tYXAtc3VwcG9ydCcpLmluc3RhbGwoKTske0VPTCArIEVPTH1gO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFNvdXJjZU1hcEZucyhvcHRzID0ge30pIHtcbiAgY29uc3Qgc291cmNlTWFwT3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIFNPVVJDRU1BUF9PUFRTLCBvcHRzKTtcblxuICByZXR1cm4ge1xuICAgIHNvdXJjZU1hcEluaXQ6IHNvdXJjZW1hcHMuaW5pdCgpLFxuICAgIHNvdXJjZU1hcEhlYWRlcjogcmVwbGFjZSgvJC8sIEhFQURFUiksXG4gICAgc291cmNlTWFwV3JpdGU6IHNvdXJjZW1hcHMud3JpdGUoc291cmNlTWFwT3B0cyksXG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTUMsVUFBVSxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBMUI7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHRixPQUFPLENBQUMsY0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0VBQUNHO0FBQUQsSUFBUUgsT0FBTyxDQUFDLElBQUQsQ0FBckI7O0FBRUEsTUFBTUksY0FBYyxHQUFHO0VBQ3JCQyxVQUFVLENBQUNDLElBQUQsRUFBTztJQUVmLE9BQU9QLElBQUksQ0FBQ1EsUUFBTCxDQUFjUixJQUFJLENBQUNTLElBQUwsQ0FBVUYsSUFBSSxDQUFDRyxHQUFmLEVBQW9CSCxJQUFJLENBQUNQLElBQXpCLENBQWQsRUFBOENPLElBQUksQ0FBQ0ksSUFBbkQsQ0FBUDtFQUNELENBSm9COztFQUtyQkMsY0FBYyxFQUFFO0FBTEssQ0FBdkI7QUFRQSxNQUFNQyxNQUFNLEdBQUksMkNBQTBDVCxHQUFHLEdBQUdBLEdBQUksRUFBcEU7O0FBRUFVLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixTQUFTQyxlQUFULENBQXlCQyxJQUFJLEdBQUcsRUFBaEMsRUFBb0M7RUFDbkQsTUFBTUMsYUFBYSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCZixjQUFsQixFQUFrQ1ksSUFBbEMsQ0FBdEI7RUFFQSxPQUFPO0lBQ0xJLGFBQWEsRUFBRW5CLFVBQVUsQ0FBQ29CLElBQVgsRUFEVjtJQUVMQyxlQUFlLEVBQUVwQixPQUFPLENBQUMsR0FBRCxFQUFNVSxNQUFOLENBRm5CO0lBR0xXLGNBQWMsRUFBRXRCLFVBQVUsQ0FBQ3VCLEtBQVgsQ0FBaUJQLGFBQWpCO0VBSFgsQ0FBUDtBQUtELENBUkQifQ==

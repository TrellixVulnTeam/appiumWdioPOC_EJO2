'use strict';

require("source-map-support/register");

const gulp = require('gulp');

const {
  Transpiler,
  isVerbose,
  spawnWatcher
} = require('../..');

const vinylPaths = require('vinyl-paths');

const del = require('del');

const debug = require('gulp-debug');

const gulpIf = require('gulp-if');

gulp.task('clean-fixtures', function () {
  return gulp.src('build-fixtures', {
    read: false,
    allowEmpty: true
  }).pipe(vinylPaths(del));
});
gulp.task('transpile-es7-fixtures', function () {
  let transpiler = new Transpiler();
  return gulp.src('test/fixtures/es7/**/*.js').pipe(gulpIf(isVerbose(), debug())).pipe(transpiler.stream()).on('error', spawnWatcher.handleError).pipe(gulp.dest('build-fixtures'));
});
gulp.task('transpile-fixtures', gulp.series('clean-fixtures', 'transpile-es7-fixtures'));

require('./test-es7');

require('./generate');require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9ndWxwZmlsZS1qcy9pbmRleC5qcyIsIm5hbWVzIjpbImd1bHAiLCJyZXF1aXJlIiwiVHJhbnNwaWxlciIsImlzVmVyYm9zZSIsInNwYXduV2F0Y2hlciIsInZpbnlsUGF0aHMiLCJkZWwiLCJkZWJ1ZyIsImd1bHBJZiIsInRhc2siLCJzcmMiLCJyZWFkIiwiYWxsb3dFbXB0eSIsInBpcGUiLCJ0cmFuc3BpbGVyIiwic3RyZWFtIiwib24iLCJoYW5kbGVFcnJvciIsImRlc3QiLCJzZXJpZXMiXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIiwic291cmNlcyI6WyJ0ZXN0L2d1bHBmaWxlLWpzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZ3VscCA9IHJlcXVpcmUoJ2d1bHAnKTtcbmNvbnN0IHtUcmFuc3BpbGVyLCBpc1ZlcmJvc2UsIHNwYXduV2F0Y2hlcn0gPSByZXF1aXJlKCcuLi8uLicpO1xuY29uc3QgdmlueWxQYXRocyA9IHJlcXVpcmUoJ3ZpbnlsLXBhdGhzJyk7XG5jb25zdCBkZWwgPSByZXF1aXJlKCdkZWwnKTtcbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZ3VscC1kZWJ1ZycpO1xuY29uc3QgZ3VscElmID0gcmVxdWlyZSgnZ3VscC1pZicpO1xuXG5ndWxwLnRhc2soJ2NsZWFuLWZpeHR1cmVzJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZ3VscC5zcmMoJ2J1aWxkLWZpeHR1cmVzJywge3JlYWQ6IGZhbHNlLCBhbGxvd0VtcHR5OiB0cnVlfSkucGlwZSh2aW55bFBhdGhzKGRlbCkpO1xufSk7XG5cbmd1bHAudGFzaygndHJhbnNwaWxlLWVzNy1maXh0dXJlcycsIGZ1bmN0aW9uICgpIHtcbiAgbGV0IHRyYW5zcGlsZXIgPSBuZXcgVHJhbnNwaWxlcigpO1xuICByZXR1cm4gZ3VscFxuICAgIC5zcmMoJ3Rlc3QvZml4dHVyZXMvZXM3LyoqLyouanMnKVxuICAgIC5waXBlKGd1bHBJZihpc1ZlcmJvc2UoKSwgZGVidWcoKSkpXG4gICAgLnBpcGUodHJhbnNwaWxlci5zdHJlYW0oKSlcbiAgICAub24oJ2Vycm9yJywgc3Bhd25XYXRjaGVyLmhhbmRsZUVycm9yKVxuICAgIC5waXBlKGd1bHAuZGVzdCgnYnVpbGQtZml4dHVyZXMnKSk7XG59KTtcblxuZ3VscC50YXNrKCd0cmFuc3BpbGUtZml4dHVyZXMnLCBndWxwLnNlcmllcygnY2xlYW4tZml4dHVyZXMnLCAndHJhbnNwaWxlLWVzNy1maXh0dXJlcycpKTtcblxucmVxdWlyZSgnLi90ZXN0LWVzNycpO1xucmVxdWlyZSgnLi9nZW5lcmF0ZScpO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7OztBQUVBLE1BQU1BLElBQUksR0FBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0EsTUFBTTtFQUFDQyxVQUFEO0VBQWFDLFNBQWI7RUFBd0JDO0FBQXhCLElBQXdDSCxPQUFPLENBQUMsT0FBRCxDQUFyRDs7QUFDQSxNQUFNSSxVQUFVLEdBQUdKLE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1LLEdBQUcsR0FBR0wsT0FBTyxDQUFDLEtBQUQsQ0FBbkI7O0FBQ0EsTUFBTU0sS0FBSyxHQUFHTixPQUFPLENBQUMsWUFBRCxDQUFyQjs7QUFDQSxNQUFNTyxNQUFNLEdBQUdQLE9BQU8sQ0FBQyxTQUFELENBQXRCOztBQUVBRCxJQUFJLENBQUNTLElBQUwsQ0FBVSxnQkFBVixFQUE0QixZQUFZO0VBQ3RDLE9BQU9ULElBQUksQ0FBQ1UsR0FBTCxDQUFTLGdCQUFULEVBQTJCO0lBQUNDLElBQUksRUFBRSxLQUFQO0lBQWNDLFVBQVUsRUFBRTtFQUExQixDQUEzQixFQUE0REMsSUFBNUQsQ0FBaUVSLFVBQVUsQ0FBQ0MsR0FBRCxDQUEzRSxDQUFQO0FBQ0QsQ0FGRDtBQUlBTixJQUFJLENBQUNTLElBQUwsQ0FBVSx3QkFBVixFQUFvQyxZQUFZO0VBQzlDLElBQUlLLFVBQVUsR0FBRyxJQUFJWixVQUFKLEVBQWpCO0VBQ0EsT0FBT0YsSUFBSSxDQUNSVSxHQURJLENBQ0EsMkJBREEsRUFFSkcsSUFGSSxDQUVDTCxNQUFNLENBQUNMLFNBQVMsRUFBVixFQUFjSSxLQUFLLEVBQW5CLENBRlAsRUFHSk0sSUFISSxDQUdDQyxVQUFVLENBQUNDLE1BQVgsRUFIRCxFQUlKQyxFQUpJLENBSUQsT0FKQyxFQUlRWixZQUFZLENBQUNhLFdBSnJCLEVBS0pKLElBTEksQ0FLQ2IsSUFBSSxDQUFDa0IsSUFBTCxDQUFVLGdCQUFWLENBTEQsQ0FBUDtBQU1ELENBUkQ7QUFVQWxCLElBQUksQ0FBQ1MsSUFBTCxDQUFVLG9CQUFWLEVBQWdDVCxJQUFJLENBQUNtQixNQUFMLENBQVksZ0JBQVosRUFBOEIsd0JBQTlCLENBQWhDOztBQUVBbEIsT0FBTyxDQUFDLFlBQUQsQ0FBUDs7QUFDQUEsT0FBTyxDQUFDLFlBQUQsQ0FBUCJ9

"use strict";

require("source-map-support/register");

var _lib = require("../../../lib");

var _server2 = require("../../../lib/express/server");

var _sinon = require("sinon");

var _helpers = require("../../helpers");

const newMethodMap = {
  '/session/:sessionId/fake': {
    GET: {
      command: 'fakeGet'
    },
    POST: {
      command: 'fakePost',
      payloadParams: {
        required: ['fakeParam']
      }
    }
  }
};

const updateServer = (app, httpServer) => {
  app.updated = true;
  httpServer.updated = true;
};

function fakeDriver() {
  return {
    sessionExists: () => {},
    executeCommand: () => {}
  };
}

describe('server configuration', function () {
  let port;
  let sandbox;

  function fakeApp() {
    const app = {
      use: sandbox.spy(),
      all: sandbox.spy(),
      get: sandbox.spy(),
      post: sandbox.spy(),
      delete: sandbox.spy(),
      totalCount: () => app.use.callCount + app.all.callCount + app.get.callCount + app.post.callCount + app.delete.callCount
    };
    return app;
  }

  before(async function () {
    port = await (0, _helpers.getTestPort)(true);
  });
  beforeEach(function () {
    sandbox = (0, _sinon.createSandbox)();
  });
  afterEach(function () {
    sandbox.restore();
  });
  it('should actually use the middleware', function () {
    const app = fakeApp();

    const configureRoutes = () => {};

    (0, _server2.configureServer)({
      app,
      addRoutes: configureRoutes
    });
    app.use.callCount.should.equal(14);
    app.all.callCount.should.equal(4);
  });
  it('should apply new methods in plugins to the standard method map', function () {
    const app1 = fakeApp();
    const app2 = fakeApp();
    const driver = fakeDriver();
    const addRoutes = (0, _lib.routeConfiguringFunction)(driver);
    (0, _server2.configureServer)({
      app: app1,
      addRoutes
    });
    (0, _server2.configureServer)({
      app: app2,
      addRoutes,
      extraMethodMap: newMethodMap
    });
    app2.totalCount().should.eql(app1.totalCount() + 2);
  });
  it('should silently reject new methods in plugins if not plain objects', function () {
    const app1 = fakeApp();
    const app2 = fakeApp();
    const driver = fakeDriver();
    const addRoutes = (0, _lib.routeConfiguringFunction)(driver);
    (0, _server2.configureServer)({
      app: app1,
      addRoutes
    });
    (0, _server2.configureServer)({
      app: app2,
      addRoutes,
      extraMethodMap: []
    });
    app2.totalCount().should.eql(app1.totalCount());
  });
  it('should allow plugins to update the server', async function () {
    const driver = fakeDriver();

    const _server = await (0, _lib.server)({
      routeConfiguringFunction: (0, _lib.routeConfiguringFunction)(driver),
      port,
      extraMethodMap: newMethodMap,
      serverUpdaters: [updateServer]
    });

    try {
      _server.updated.should.be.true;
    } finally {
      await _server.close();
    }
  });
  it('should reject if error thrown in configureRoutes parameter', async function () {
    const configureRoutes = () => {
      throw new Error('I am Mr. MeeSeeks look at me!');
    };

    await (0, _lib.server)({
      routeConfiguringFunction: configureRoutes,
      port
    }).should.be.rejectedWith('MeeSeeks');
  });
  describe('#normalizeBasePath', function () {
    it('should throw an error for paths of the wrong type', function () {
      should.throw(() => {
        (0, _server2.normalizeBasePath)(null);
      });
      should.throw(() => {
        (0, _server2.normalizeBasePath)(1);
      });
    });
    it('should remove trailing slashes', function () {
      (0, _server2.normalizeBasePath)('/wd/hub/').should.eql('/wd/hub');
      (0, _server2.normalizeBasePath)('/foo/').should.eql('/foo');
      (0, _server2.normalizeBasePath)('/').should.eql('');
    });
    it('should ensure a leading slash is present', function () {
      (0, _server2.normalizeBasePath)('foo').should.eql('/foo');
      (0, _server2.normalizeBasePath)('wd/hub').should.eql('/wd/hub');
      (0, _server2.normalizeBasePath)('wd/hub/').should.eql('/wd/hub');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJuZXdNZXRob2RNYXAiLCJHRVQiLCJjb21tYW5kIiwiUE9TVCIsInBheWxvYWRQYXJhbXMiLCJyZXF1aXJlZCIsInVwZGF0ZVNlcnZlciIsImFwcCIsImh0dHBTZXJ2ZXIiLCJ1cGRhdGVkIiwiZmFrZURyaXZlciIsInNlc3Npb25FeGlzdHMiLCJleGVjdXRlQ29tbWFuZCIsImRlc2NyaWJlIiwicG9ydCIsInNhbmRib3giLCJmYWtlQXBwIiwidXNlIiwic3B5IiwiYWxsIiwiZ2V0IiwicG9zdCIsImRlbGV0ZSIsInRvdGFsQ291bnQiLCJjYWxsQ291bnQiLCJiZWZvcmUiLCJnZXRUZXN0UG9ydCIsImJlZm9yZUVhY2giLCJjcmVhdGVTYW5kYm94IiwiYWZ0ZXJFYWNoIiwicmVzdG9yZSIsIml0IiwiY29uZmlndXJlUm91dGVzIiwiY29uZmlndXJlU2VydmVyIiwiYWRkUm91dGVzIiwic2hvdWxkIiwiZXF1YWwiLCJhcHAxIiwiYXBwMiIsImRyaXZlciIsInJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbiIsImV4dHJhTWV0aG9kTWFwIiwiZXFsIiwiX3NlcnZlciIsInNlcnZlciIsInNlcnZlclVwZGF0ZXJzIiwiYmUiLCJ0cnVlIiwiY2xvc2UiLCJFcnJvciIsInJlamVjdGVkV2l0aCIsInRocm93Iiwibm9ybWFsaXplQmFzZVBhdGgiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi90ZXN0L3VuaXQvZXhwcmVzcy9zZXJ2ZXIuc3BlYy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc3BpbGU6bW9jaGFcblxuaW1wb3J0IHtzZXJ2ZXIsIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbn0gZnJvbSAnLi4vLi4vLi4vbGliJztcbmltcG9ydCB7Y29uZmlndXJlU2VydmVyLCBub3JtYWxpemVCYXNlUGF0aH0gZnJvbSAnLi4vLi4vLi4vbGliL2V4cHJlc3Mvc2VydmVyJztcbmltcG9ydCB7Y3JlYXRlU2FuZGJveH0gZnJvbSAnc2lub24nO1xuaW1wb3J0IHtnZXRUZXN0UG9ydH0gZnJvbSAnLi4vLi4vaGVscGVycyc7XG5cbmNvbnN0IG5ld01ldGhvZE1hcCA9IHtcbiAgJy9zZXNzaW9uLzpzZXNzaW9uSWQvZmFrZSc6IHtcbiAgICBHRVQ6IHtjb21tYW5kOiAnZmFrZUdldCd9LFxuICAgIFBPU1Q6IHtjb21tYW5kOiAnZmFrZVBvc3QnLCBwYXlsb2FkUGFyYW1zOiB7cmVxdWlyZWQ6IFsnZmFrZVBhcmFtJ119fSxcbiAgfSxcbn07XG5cbmNvbnN0IHVwZGF0ZVNlcnZlciA9IChhcHAsIGh0dHBTZXJ2ZXIpID0+IHtcbiAgYXBwLnVwZGF0ZWQgPSB0cnVlO1xuICBodHRwU2VydmVyLnVwZGF0ZWQgPSB0cnVlO1xufTtcblxuZnVuY3Rpb24gZmFrZURyaXZlcigpIHtcbiAgcmV0dXJuIHtzZXNzaW9uRXhpc3RzOiAoKSA9PiB7fSwgZXhlY3V0ZUNvbW1hbmQ6ICgpID0+IHt9fTtcbn1cblxuZGVzY3JpYmUoJ3NlcnZlciBjb25maWd1cmF0aW9uJywgZnVuY3Rpb24gKCkge1xuICBsZXQgcG9ydDtcblxuICBsZXQgc2FuZGJveDtcblxuICBmdW5jdGlvbiBmYWtlQXBwKCkge1xuICAgIGNvbnN0IGFwcCA9IHtcbiAgICAgIHVzZTogc2FuZGJveC5zcHkoKSxcbiAgICAgIGFsbDogc2FuZGJveC5zcHkoKSxcbiAgICAgIGdldDogc2FuZGJveC5zcHkoKSxcbiAgICAgIHBvc3Q6IHNhbmRib3guc3B5KCksXG4gICAgICBkZWxldGU6IHNhbmRib3guc3B5KCksXG4gICAgICB0b3RhbENvdW50OiAoKSA9PlxuICAgICAgICBhcHAudXNlLmNhbGxDb3VudCArXG4gICAgICAgIGFwcC5hbGwuY2FsbENvdW50ICtcbiAgICAgICAgYXBwLmdldC5jYWxsQ291bnQgK1xuICAgICAgICBhcHAucG9zdC5jYWxsQ291bnQgK1xuICAgICAgICBhcHAuZGVsZXRlLmNhbGxDb3VudCxcbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG4gIH1cblxuICBiZWZvcmUoYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIHBvcnQgPSBhd2FpdCBnZXRUZXN0UG9ydCh0cnVlKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaChmdW5jdGlvbiAoKSB7XG4gICAgc2FuZGJveCA9IGNyZWF0ZVNhbmRib3goKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGZ1bmN0aW9uICgpIHtcbiAgICBzYW5kYm94LnJlc3RvcmUoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhY3R1YWxseSB1c2UgdGhlIG1pZGRsZXdhcmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYXBwID0gZmFrZUFwcCgpO1xuICAgIGNvbnN0IGNvbmZpZ3VyZVJvdXRlcyA9ICgpID0+IHt9O1xuICAgIGNvbmZpZ3VyZVNlcnZlcih7YXBwLCBhZGRSb3V0ZXM6IGNvbmZpZ3VyZVJvdXRlc30pO1xuICAgIGFwcC51c2UuY2FsbENvdW50LnNob3VsZC5lcXVhbCgxNCk7XG4gICAgYXBwLmFsbC5jYWxsQ291bnQuc2hvdWxkLmVxdWFsKDQpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFwcGx5IG5ldyBtZXRob2RzIGluIHBsdWdpbnMgdG8gdGhlIHN0YW5kYXJkIG1ldGhvZCBtYXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYXBwMSA9IGZha2VBcHAoKTtcbiAgICBjb25zdCBhcHAyID0gZmFrZUFwcCgpO1xuICAgIGNvbnN0IGRyaXZlciA9IGZha2VEcml2ZXIoKTtcbiAgICBjb25zdCBhZGRSb3V0ZXMgPSByb3V0ZUNvbmZpZ3VyaW5nRnVuY3Rpb24oZHJpdmVyKTtcbiAgICBjb25maWd1cmVTZXJ2ZXIoe2FwcDogYXBwMSwgYWRkUm91dGVzfSk7XG4gICAgY29uZmlndXJlU2VydmVyKHthcHA6IGFwcDIsIGFkZFJvdXRlcywgZXh0cmFNZXRob2RNYXA6IG5ld01ldGhvZE1hcH0pO1xuICAgIGFwcDIudG90YWxDb3VudCgpLnNob3VsZC5lcWwoYXBwMS50b3RhbENvdW50KCkgKyAyKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBzaWxlbnRseSByZWplY3QgbmV3IG1ldGhvZHMgaW4gcGx1Z2lucyBpZiBub3QgcGxhaW4gb2JqZWN0cycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBhcHAxID0gZmFrZUFwcCgpO1xuICAgIGNvbnN0IGFwcDIgPSBmYWtlQXBwKCk7XG4gICAgY29uc3QgZHJpdmVyID0gZmFrZURyaXZlcigpO1xuICAgIGNvbnN0IGFkZFJvdXRlcyA9IHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbihkcml2ZXIpO1xuICAgIGNvbmZpZ3VyZVNlcnZlcih7YXBwOiBhcHAxLCBhZGRSb3V0ZXN9KTtcbiAgICBjb25maWd1cmVTZXJ2ZXIoe2FwcDogYXBwMiwgYWRkUm91dGVzLCBleHRyYU1ldGhvZE1hcDogW119KTtcbiAgICBhcHAyLnRvdGFsQ291bnQoKS5zaG91bGQuZXFsKGFwcDEudG90YWxDb3VudCgpKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhbGxvdyBwbHVnaW5zIHRvIHVwZGF0ZSB0aGUgc2VydmVyJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGRyaXZlciA9IGZha2VEcml2ZXIoKTtcbiAgICBjb25zdCBfc2VydmVyID0gYXdhaXQgc2VydmVyKHtcbiAgICAgIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbjogcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uKGRyaXZlciksXG4gICAgICBwb3J0LFxuICAgICAgZXh0cmFNZXRob2RNYXA6IG5ld01ldGhvZE1hcCxcbiAgICAgIHNlcnZlclVwZGF0ZXJzOiBbdXBkYXRlU2VydmVyXSxcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgX3NlcnZlci51cGRhdGVkLnNob3VsZC5iZS50cnVlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBhd2FpdCBfc2VydmVyLmNsb3NlKCk7XG4gICAgfVxuICB9KTtcblxuICBpdCgnc2hvdWxkIHJlamVjdCBpZiBlcnJvciB0aHJvd24gaW4gY29uZmlndXJlUm91dGVzIHBhcmFtZXRlcicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjb25maWd1cmVSb3V0ZXMgPSAoKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0kgYW0gTXIuIE1lZVNlZWtzIGxvb2sgYXQgbWUhJyk7XG4gICAgfTtcbiAgICBhd2FpdCBzZXJ2ZXIoe1xuICAgICAgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uOiBjb25maWd1cmVSb3V0ZXMsXG4gICAgICBwb3J0LFxuICAgIH0pLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoJ01lZVNlZWtzJyk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcjbm9ybWFsaXplQmFzZVBhdGgnLCBmdW5jdGlvbiAoKSB7XG4gICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciBmb3IgcGF0aHMgb2YgdGhlIHdyb25nIHR5cGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzaG91bGQudGhyb3coKCkgPT4ge1xuICAgICAgICBub3JtYWxpemVCYXNlUGF0aChudWxsKTtcbiAgICAgIH0pO1xuICAgICAgc2hvdWxkLnRocm93KCgpID0+IHtcbiAgICAgICAgbm9ybWFsaXplQmFzZVBhdGgoMSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIHJlbW92ZSB0cmFpbGluZyBzbGFzaGVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgbm9ybWFsaXplQmFzZVBhdGgoJy93ZC9odWIvJykuc2hvdWxkLmVxbCgnL3dkL2h1YicpO1xuICAgICAgbm9ybWFsaXplQmFzZVBhdGgoJy9mb28vJykuc2hvdWxkLmVxbCgnL2ZvbycpO1xuICAgICAgbm9ybWFsaXplQmFzZVBhdGgoJy8nKS5zaG91bGQuZXFsKCcnKTtcbiAgICB9KTtcbiAgICBpdCgnc2hvdWxkIGVuc3VyZSBhIGxlYWRpbmcgc2xhc2ggaXMgcHJlc2VudCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIG5vcm1hbGl6ZUJhc2VQYXRoKCdmb28nKS5zaG91bGQuZXFsKCcvZm9vJyk7XG4gICAgICBub3JtYWxpemVCYXNlUGF0aCgnd2QvaHViJykuc2hvdWxkLmVxbCgnL3dkL2h1YicpO1xuICAgICAgbm9ybWFsaXplQmFzZVBhdGgoJ3dkL2h1Yi8nKS5zaG91bGQuZXFsKCcvd2QvaHViJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxZQUFZLEdBQUc7RUFDbkIsNEJBQTRCO0lBQzFCQyxHQUFHLEVBQUU7TUFBQ0MsT0FBTyxFQUFFO0lBQVYsQ0FEcUI7SUFFMUJDLElBQUksRUFBRTtNQUFDRCxPQUFPLEVBQUUsVUFBVjtNQUFzQkUsYUFBYSxFQUFFO1FBQUNDLFFBQVEsRUFBRSxDQUFDLFdBQUQ7TUFBWDtJQUFyQztFQUZvQjtBQURULENBQXJCOztBQU9BLE1BQU1DLFlBQVksR0FBRyxDQUFDQyxHQUFELEVBQU1DLFVBQU4sS0FBcUI7RUFDeENELEdBQUcsQ0FBQ0UsT0FBSixHQUFjLElBQWQ7RUFDQUQsVUFBVSxDQUFDQyxPQUFYLEdBQXFCLElBQXJCO0FBQ0QsQ0FIRDs7QUFLQSxTQUFTQyxVQUFULEdBQXNCO0VBQ3BCLE9BQU87SUFBQ0MsYUFBYSxFQUFFLE1BQU0sQ0FBRSxDQUF4QjtJQUEwQkMsY0FBYyxFQUFFLE1BQU0sQ0FBRTtFQUFsRCxDQUFQO0FBQ0Q7O0FBRURDLFFBQVEsQ0FBQyxzQkFBRCxFQUF5QixZQUFZO0VBQzNDLElBQUlDLElBQUo7RUFFQSxJQUFJQyxPQUFKOztFQUVBLFNBQVNDLE9BQVQsR0FBbUI7SUFDakIsTUFBTVQsR0FBRyxHQUFHO01BQ1ZVLEdBQUcsRUFBRUYsT0FBTyxDQUFDRyxHQUFSLEVBREs7TUFFVkMsR0FBRyxFQUFFSixPQUFPLENBQUNHLEdBQVIsRUFGSztNQUdWRSxHQUFHLEVBQUVMLE9BQU8sQ0FBQ0csR0FBUixFQUhLO01BSVZHLElBQUksRUFBRU4sT0FBTyxDQUFDRyxHQUFSLEVBSkk7TUFLVkksTUFBTSxFQUFFUCxPQUFPLENBQUNHLEdBQVIsRUFMRTtNQU1WSyxVQUFVLEVBQUUsTUFDVmhCLEdBQUcsQ0FBQ1UsR0FBSixDQUFRTyxTQUFSLEdBQ0FqQixHQUFHLENBQUNZLEdBQUosQ0FBUUssU0FEUixHQUVBakIsR0FBRyxDQUFDYSxHQUFKLENBQVFJLFNBRlIsR0FHQWpCLEdBQUcsQ0FBQ2MsSUFBSixDQUFTRyxTQUhULEdBSUFqQixHQUFHLENBQUNlLE1BQUosQ0FBV0U7SUFYSCxDQUFaO0lBYUEsT0FBT2pCLEdBQVA7RUFDRDs7RUFFRGtCLE1BQU0sQ0FBQyxrQkFBa0I7SUFDdkJYLElBQUksR0FBRyxNQUFNLElBQUFZLG9CQUFBLEVBQVksSUFBWixDQUFiO0VBQ0QsQ0FGSyxDQUFOO0VBSUFDLFVBQVUsQ0FBQyxZQUFZO0lBQ3JCWixPQUFPLEdBQUcsSUFBQWEsb0JBQUEsR0FBVjtFQUNELENBRlMsQ0FBVjtFQUlBQyxTQUFTLENBQUMsWUFBWTtJQUNwQmQsT0FBTyxDQUFDZSxPQUFSO0VBQ0QsQ0FGUSxDQUFUO0VBSUFDLEVBQUUsQ0FBQyxvQ0FBRCxFQUF1QyxZQUFZO0lBQ25ELE1BQU14QixHQUFHLEdBQUdTLE9BQU8sRUFBbkI7O0lBQ0EsTUFBTWdCLGVBQWUsR0FBRyxNQUFNLENBQUUsQ0FBaEM7O0lBQ0EsSUFBQUMsd0JBQUEsRUFBZ0I7TUFBQzFCLEdBQUQ7TUFBTTJCLFNBQVMsRUFBRUY7SUFBakIsQ0FBaEI7SUFDQXpCLEdBQUcsQ0FBQ1UsR0FBSixDQUFRTyxTQUFSLENBQWtCVyxNQUFsQixDQUF5QkMsS0FBekIsQ0FBK0IsRUFBL0I7SUFDQTdCLEdBQUcsQ0FBQ1ksR0FBSixDQUFRSyxTQUFSLENBQWtCVyxNQUFsQixDQUF5QkMsS0FBekIsQ0FBK0IsQ0FBL0I7RUFDRCxDQU5DLENBQUY7RUFRQUwsRUFBRSxDQUFDLGdFQUFELEVBQW1FLFlBQVk7SUFDL0UsTUFBTU0sSUFBSSxHQUFHckIsT0FBTyxFQUFwQjtJQUNBLE1BQU1zQixJQUFJLEdBQUd0QixPQUFPLEVBQXBCO0lBQ0EsTUFBTXVCLE1BQU0sR0FBRzdCLFVBQVUsRUFBekI7SUFDQSxNQUFNd0IsU0FBUyxHQUFHLElBQUFNLDZCQUFBLEVBQXlCRCxNQUF6QixDQUFsQjtJQUNBLElBQUFOLHdCQUFBLEVBQWdCO01BQUMxQixHQUFHLEVBQUU4QixJQUFOO01BQVlIO0lBQVosQ0FBaEI7SUFDQSxJQUFBRCx3QkFBQSxFQUFnQjtNQUFDMUIsR0FBRyxFQUFFK0IsSUFBTjtNQUFZSixTQUFaO01BQXVCTyxjQUFjLEVBQUV6QztJQUF2QyxDQUFoQjtJQUNBc0MsSUFBSSxDQUFDZixVQUFMLEdBQWtCWSxNQUFsQixDQUF5Qk8sR0FBekIsQ0FBNkJMLElBQUksQ0FBQ2QsVUFBTCxLQUFvQixDQUFqRDtFQUNELENBUkMsQ0FBRjtFQVVBUSxFQUFFLENBQUMsb0VBQUQsRUFBdUUsWUFBWTtJQUNuRixNQUFNTSxJQUFJLEdBQUdyQixPQUFPLEVBQXBCO0lBQ0EsTUFBTXNCLElBQUksR0FBR3RCLE9BQU8sRUFBcEI7SUFDQSxNQUFNdUIsTUFBTSxHQUFHN0IsVUFBVSxFQUF6QjtJQUNBLE1BQU13QixTQUFTLEdBQUcsSUFBQU0sNkJBQUEsRUFBeUJELE1BQXpCLENBQWxCO0lBQ0EsSUFBQU4sd0JBQUEsRUFBZ0I7TUFBQzFCLEdBQUcsRUFBRThCLElBQU47TUFBWUg7SUFBWixDQUFoQjtJQUNBLElBQUFELHdCQUFBLEVBQWdCO01BQUMxQixHQUFHLEVBQUUrQixJQUFOO01BQVlKLFNBQVo7TUFBdUJPLGNBQWMsRUFBRTtJQUF2QyxDQUFoQjtJQUNBSCxJQUFJLENBQUNmLFVBQUwsR0FBa0JZLE1BQWxCLENBQXlCTyxHQUF6QixDQUE2QkwsSUFBSSxDQUFDZCxVQUFMLEVBQTdCO0VBQ0QsQ0FSQyxDQUFGO0VBVUFRLEVBQUUsQ0FBQywyQ0FBRCxFQUE4QyxrQkFBa0I7SUFDaEUsTUFBTVEsTUFBTSxHQUFHN0IsVUFBVSxFQUF6Qjs7SUFDQSxNQUFNaUMsT0FBTyxHQUFHLE1BQU0sSUFBQUMsV0FBQSxFQUFPO01BQzNCSix3QkFBd0IsRUFBRSxJQUFBQSw2QkFBQSxFQUF5QkQsTUFBekIsQ0FEQztNQUUzQnpCLElBRjJCO01BRzNCMkIsY0FBYyxFQUFFekMsWUFIVztNQUkzQjZDLGNBQWMsRUFBRSxDQUFDdkMsWUFBRDtJQUpXLENBQVAsQ0FBdEI7O0lBTUEsSUFBSTtNQUNGcUMsT0FBTyxDQUFDbEMsT0FBUixDQUFnQjBCLE1BQWhCLENBQXVCVyxFQUF2QixDQUEwQkMsSUFBMUI7SUFDRCxDQUZELFNBRVU7TUFDUixNQUFNSixPQUFPLENBQUNLLEtBQVIsRUFBTjtJQUNEO0VBQ0YsQ0FiQyxDQUFGO0VBZUFqQixFQUFFLENBQUMsNERBQUQsRUFBK0Qsa0JBQWtCO0lBQ2pGLE1BQU1DLGVBQWUsR0FBRyxNQUFNO01BQzVCLE1BQU0sSUFBSWlCLEtBQUosQ0FBVSwrQkFBVixDQUFOO0lBQ0QsQ0FGRDs7SUFHQSxNQUFNLElBQUFMLFdBQUEsRUFBTztNQUNYSix3QkFBd0IsRUFBRVIsZUFEZjtNQUVYbEI7SUFGVyxDQUFQLEVBR0hxQixNQUhHLENBR0lXLEVBSEosQ0FHT0ksWUFIUCxDQUdvQixVQUhwQixDQUFOO0VBSUQsQ0FSQyxDQUFGO0VBVUFyQyxRQUFRLENBQUMsb0JBQUQsRUFBdUIsWUFBWTtJQUN6Q2tCLEVBQUUsQ0FBQyxtREFBRCxFQUFzRCxZQUFZO01BQ2xFSSxNQUFNLENBQUNnQixLQUFQLENBQWEsTUFBTTtRQUNqQixJQUFBQywwQkFBQSxFQUFrQixJQUFsQjtNQUNELENBRkQ7TUFHQWpCLE1BQU0sQ0FBQ2dCLEtBQVAsQ0FBYSxNQUFNO1FBQ2pCLElBQUFDLDBCQUFBLEVBQWtCLENBQWxCO01BQ0QsQ0FGRDtJQUdELENBUEMsQ0FBRjtJQVFBckIsRUFBRSxDQUFDLGdDQUFELEVBQW1DLFlBQVk7TUFDL0MsSUFBQXFCLDBCQUFBLEVBQWtCLFVBQWxCLEVBQThCakIsTUFBOUIsQ0FBcUNPLEdBQXJDLENBQXlDLFNBQXpDO01BQ0EsSUFBQVUsMEJBQUEsRUFBa0IsT0FBbEIsRUFBMkJqQixNQUEzQixDQUFrQ08sR0FBbEMsQ0FBc0MsTUFBdEM7TUFDQSxJQUFBVSwwQkFBQSxFQUFrQixHQUFsQixFQUF1QmpCLE1BQXZCLENBQThCTyxHQUE5QixDQUFrQyxFQUFsQztJQUNELENBSkMsQ0FBRjtJQUtBWCxFQUFFLENBQUMsMENBQUQsRUFBNkMsWUFBWTtNQUN6RCxJQUFBcUIsMEJBQUEsRUFBa0IsS0FBbEIsRUFBeUJqQixNQUF6QixDQUFnQ08sR0FBaEMsQ0FBb0MsTUFBcEM7TUFDQSxJQUFBVSwwQkFBQSxFQUFrQixRQUFsQixFQUE0QmpCLE1BQTVCLENBQW1DTyxHQUFuQyxDQUF1QyxTQUF2QztNQUNBLElBQUFVLDBCQUFBLEVBQWtCLFNBQWxCLEVBQTZCakIsTUFBN0IsQ0FBb0NPLEdBQXBDLENBQXdDLFNBQXhDO0lBQ0QsQ0FKQyxDQUFGO0VBS0QsQ0FuQk8sQ0FBUjtBQW9CRCxDQTNHTyxDQUFSIn0=